{% extends "sqladmin/details.html" %}

{% block content %}

<div style="margin-bottom:20px">
    <a href="/bot/admin/vpn-config/list" class="btn btn-secondary">‚¨Ö –ù–∞–∑–∞–¥</a>

    <button type="button" class="btn btn-danger"
            onclick="if(confirm('–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥?')) {
            fetch('/bot/admin/vpn-config/delete?pks={{ model.id }}', { method: 'DELETE' })
            .then(response => {
                if(response.ok) window.location.href = '/bot/admin/vpn-config/list';
                else alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏');
            });
        }">
        üóë –£–¥–∞–ª–∏—Ç—å
    </button>


</div>

<h2>üîê VPN –∫–æ–Ω—Ñ–∏–≥</h2>

<table class="table table-bordered table-striped">
    <tr>
        <th>ID</th>
        <td>{{ model.id }}</td>
    </tr>
    <tr>
        <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
        <td>
            {% if model.user %}
                {{ model.user.username }} ({{ model.user.telegram_id }})
            {% else %}
                -
            {% endif %}
        </td>
    </tr>
    <tr>
        <th>–ò–º—è —Ñ–∞–π–ª–∞</th>
        <td>{{ model.file_name if model.file_name else "config" }}</td>
    </tr>
    <tr>
        <th>Public Key</th>
        <td>
            {% if model.pub_key %}
                <textarea readonly style="width:100%;height:120px;font-family:monospace;">{{ model.pub_key }}</textarea>
            {% else %}
                -
            {% endif %}
        </td>
    </tr>
</table>

{% endblock %}
